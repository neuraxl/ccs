<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>N-X-U Interface | Orchestrated Intelligence</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
  <style>
    .active-badge { background: linear-gradient(90deg,#06b6d4,#7c3aed); }
    #neuronCanvas { width:100%; height:320px; display:block; }
    #worldAICanvas { width:100%; height:260px; display:block; }
    .chip { padding:4px 8px; border-radius:999px; font-size:12px; }
  </style>
</head>
<body class="bg-gray-900 text-gray-100 font-sans">
  <header class="text-center py-6 bg-gray-800 shadow-lg">
    <h1 class="text-4xl font-bold text-indigo-400">üß† N-X-U: Orchestrated General Intelligence</h1>
    <p class="text-gray-400 mt-2">Fusion of GPT-5 ‚Ä¢ Claude 3.7 Sonnet ‚Ä¢ Gemini 2.5 Pro</p>
  </header>

  <main class="max-w-7xl mx-auto px-6 py-8 grid grid-cols-1 lg:grid-cols-3 gap-8">

    <!-- Core Orchestrator Panel -->
    <section class="col-span-1 lg:col-span-3 bg-gray-800 p-6 rounded-2xl shadow-lg">
      <div class="flex justify-between items-center">
        <div>
          <h2 class="text-2xl font-semibold text-indigo-300 mb-1">Central Brain Dashboard</h2>
          <p class="text-gray-400">Contr√¥lez et activez les modules ‚Äî r√©el ou simul√©. (Voir les notes de s√©curit√© pour l'int√©gration des cl√©s).</p>
        </div>
        <div class="flex items-center space-x-3">
          <button id="openAdmin" class="bg-gray-700 px-3 py-2 rounded">‚öôÔ∏è Admin</button>
          <a id="githubLink" href="https://github.com/Sav-art/NeuraX-ultime" target="_blank" class="bg-indigo-600 px-3 py-2 rounded">Voir sur GitHub</a>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
        <div class="bg-gray-700 rounded-xl p-4">
          <div class="flex justify-between items-start">
            <h3 class="text-xl text-indigo-200 mb-2">GPT Module</h3>
            <span id="gptBadge" class="text-xs px-2 py-1 rounded text-gray-900 bg-yellow-400">inactive</span>
          </div>
          <p class="text-gray-400">Text / multim√©dia ‚Äî routage vers l'API OpenAI (proxy requis).</p>
          <div class="mt-4 flex items-center space-x-2">
            <button id="activateGpt" class="bg-indigo-500 hover:bg-indigo-600 px-3 py-1 rounded">Activer</button>
            <button id="gptConsole" class="bg-gray-600 px-3 py-1 rounded">Ouvrir Console</button>
            <a id="gptDocs" href="https://platform.openai.com/docs" target="_blank" class="bg-transparent border border-gray-600 px-3 py-1 rounded">Docs</a>
          </div>
        </div>

        <div class="bg-gray-700 rounded-xl p-4">
          <div class="flex justify-between items-start">
            <h3 class="text-xl text-indigo-200 mb-2">Claude Module</h3>
            <span id="claudeBadge" class="text-xs px-2 py-1 rounded text-gray-900 bg-yellow-400">inactive</span>
          </div>
          <p class="text-gray-400">Ethics & safety ‚Äî routage vers Anthropic via un backend proxy.</p>
          <div class="mt-4 flex items-center space-x-2">
            <button id="activateClaude" class="bg-green-500 hover:bg-green-600 px-3 py-1 rounded">Activer</button>
            <button id="claudeConsole" class="bg-gray-600 px-3 py-1 rounded">Ouvrir Console</button>
            <a id="claudeDocs" href="https://www.anthropic.com/" target="_blank" class="bg-transparent border border-gray-600 px-3 py-1 rounded">Docs</a>
          </div>
        </div>

        <div class="bg-gray-700 rounded-xl p-4">
          <div class="flex justify-between items-start">
            <h3 class="text-xl text-indigo-200 mb-2">Gemini Module</h3>
            <span id="geminiBadge" class="text-xs px-2 py-1 rounded text-gray-900 bg-yellow-400">inactive</span>
          </div>
          <p class="text-gray-400">Long-context / multimodal ‚Äî routage vers Google Gemini (backend requis).</p>
          <div class="mt-4 flex items-center space-x-2">
            <button id="activateGemini" class="bg-yellow-500 hover:bg-yellow-600 px-3 py-1 rounded">Activer</button>
            <button id="geminiConsole" class="bg-gray-600 px-3 py-1 rounded">Ouvrir Console</button>
            <a id="geminiDocs" href="https://developers.google.com/ai" target="_blank" class="bg-transparent border border-gray-600 px-3 py-1 rounded">Docs</a>
          </div>
        </div>
      </div>
    </section>

    <section class="bg-gray-800 p-6 rounded-2xl shadow-lg lg:col-span-2">
      <h2 class="text-2xl font-semibold text-indigo-300 mb-4">Neural Activity & Animation</h2>
      <canvas id="neuronCanvas"></canvas>
      <div class="mt-3 text-sm text-gray-400">Statut du cerveau : <span id="coreStatus">inactive</span></div>
    </section>

    <section class="bg-gray-800 p-6 rounded-2xl shadow-lg lg:col-span-1">
      <h2 class="text-2xl font-semibold text-indigo-300 mb-4">Applications & Tools</h2>
      <ul class="space-y-3">
        <li class="flex justify-between items-center"><span>Speech Synthesis</span><div class="space-x-2"><button id="launchTTS" class="bg-indigo-500 px-3 py-1 rounded">Lancer</button><a id="ttsDocs" href="#" class="text-sm text-gray-400">(Web Speech API)</a></div></li>
        <li class="flex justify-between items-center"><span>Auto-Repair Engine</span><div class="space-x-2"><button id="runRepair" class="bg-indigo-500 px-3 py-1 rounded">Ex√©cuter</button><button id="repairLog" class="bg-gray-600 px-3 py-1 rounded">Voir rapport</button></div></li>
        <li class="flex justify-between items-center"><span>Neural Logs (JSON)</span><div class="space-x-2"><button id="viewLogs" class="bg-indigo-500 px-3 py-1 rounded">Voir</button><a id="downloadLogs" href="#" download="neural_logs.json" class="bg-gray-600 px-3 py-1 rounded">T√©l√©charger</a></div></li>
        <li class="flex justify-between items-center"><span>Language Interface</span><div class="space-x-2"><select id="langSelect" class="bg-gray-700 px-3 py-1 rounded"><option value="fr">FR</option><option value="en">EN</option><option value="es">ES</option></select></div></li>
      </ul>
      <div class="mt-6 text-sm text-yellow-300">Notes: Pour des raisons de s√©curit√©, les appels directs aux APIs publiques doivent se faire via un backend proxy contenant vos cl√©s.</div>
    </section>

    <section class="bg-gray-800 p-6 rounded-2xl shadow-lg col-span-1 lg:col-span-3">
      <h2 class="text-2xl font-semibold text-indigo-300 mb-4">AI Command Console</h2>
      <textarea id="inputArea" class="w-full h-40 bg-gray-700 text-gray-200 p-4 rounded resize-none" placeholder="Tape ta requ√™te pour N-X-U..."></textarea>
      <div class="flex justify-between mt-3">
        <div class="flex items-center space-x-2">
          <button id="sendBtn" class="bg-indigo-600 hover:bg-indigo-700 px-4 py-2 rounded">Envoyer</button>
          <button id="clearConsole" class="bg-gray-600 px-4 py-2 rounded">Effacer</button>
        </div>
        <div class="text-sm text-gray-400">Logs sauvegard√©s localement (simulation). Voir export.</div>
      </div>
      <div id="responseArea" class="bg-gray-900 mt-4 p-4 rounded h-56 overflow-y-auto text-gray-300"></div>
    </section>

    <!-- Global AI Governance Panel -->
    <section class="bg-gray-800 p-6 rounded-2xl shadow-lg col-span-1 lg:col-span-3 mt-4">
      <h2 class="text-2xl font-semibold text-pink-300 mb-4">üåê Global AI Intelligence Governance</h2>
      <p class="text-gray-400 mb-4">Supervision mondiale ‚Äî coordination, analyse, synchronisation et pilotage des intelligences distribu√©es.</p>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="bg-gray-700 rounded-xl p-4">
          <h3 class="text-lg text-pink-200 mb-2">Monitoring Global</h3>
          <p class="text-gray-400 text-sm">Analyse temps r√©el des IA interconnect√©es : charge, s√©curit√©, performance.</p>
          <button id="enableMonitoring" class="mt-3 bg-pink-600 hover:bg-pink-700 px-3 py-1 rounded w-full">Activer Monitoring</button>
          <div class="mt-2"><span id="monitorStatus" class="chip bg-yellow-400 text-gray-900">offline</span></div>
        </div>
        <div class="bg-gray-700 rounded-xl p-4">
          <h3 class="text-lg text-pink-200 mb-2">Synchronisation Universelle</h3>
          <p class="text-gray-400 text-sm">Coordonne les modules (OpenAI, Anthropic, Google) ‚Äî coh√©rence optimale.</p>
          <button id="syncAll" class="mt-3 bg-pink-600 hover:bg-pink-700 px-3 py-1 rounded w-full">Synchroniser</button>
          <div class="mt-2"><span id="syncStatus" class="chip bg-yellow-400 text-gray-900">idle</span></div>
        </div>
        <div class="bg-gray-700 rounded-xl p-4">
          <h3 class="text-lg text-pink-200 mb-2">Gestion des Risques & S√©curit√©</h3>
          <p class="text-gray-400 text-sm">D√©tection d‚Äôanomalies, isolement automatique, r√©parations proactives.</p>
          <button id="runScanner" class="mt-3 bg-pink-600 hover:bg-pink-700 px-3 py-1 rounded w-full">Scanner</button>
          <div class="mt-2"><span id="scanStatus" class="chip bg-yellow-400 text-gray-900">idle</span></div>
        </div>
      </div>
    </section>

  </main>

  <!-- Global Intelligence Map -->
  <section class="bg-gray-800 p-6 rounded-2xl shadow-lg max-w-7xl mx-auto mt-8">
    <h2 class="text-2xl font-semibold text-pink-300 mb-4">üó∫Ô∏è Carte de l‚ÄôIntelligence Mondiale</h2>
    <p class="text-gray-400 mb-4">Visualisation globale de l‚Äôactivit√© neuronale entre les serveurs, clusters et r√©seaux externes.</p>
    <canvas id="worldAICanvas" class="w-full h-64 bg-gray-900 rounded"></canvas>
  </section>

  <footer class="text-center py-6 text-gray-500 bg-gray-800 mt-10">
    <p>¬© 2025 N-X-U Initiative | Project by Sav'art | Deployed on GitHub Pages</p>
  </footer>

  <div id="adminModal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center">
    <div class="bg-gray-800 p-6 rounded-lg w-full max-w-xl">
      <h3 class="text-xl text-indigo-300 mb-3">Admin ‚Äî Cl√©s API & Options</h3>
      <p class="text-sm text-gray-400 mb-3">Pour test local uniquement. D√©ployez un backend s√©curis√© pour production.</p>
      <div class="grid grid-cols-1 gap-3">
        <input id="openaiKey" placeholder="OpenAI API Key" class="bg-gray-700 p-2 rounded" />
        <input id="anthropicKey" placeholder="Anthropic API Key" class="bg-gray-700 p-2 rounded" />
        <input id="googleKey" placeholder="Google Cloud Key" class="bg-gray-700 p-2 rounded" />
      </div>
      <div class="mt-4 flex justify-between items-center">
        <div class="text-sm text-gray-400">Mode d'appel:</div>
        <div class="space-x-2">
          <button id="saveAdmin" class="bg-green-600 px-3 py-2 rounded">Sauvegarder</button>
          <button id="showServerExample" class="bg-indigo-500 px-3 py-2 rounded">Voir exemple backend</button>
          <button id="closeAdmin" class="bg-gray-600 px-3 py-2 rounded">Fermer</button>
        </div>
      </div>
    </div>
  </div>

  <script>
  // Wrap all initialization in DOMContentLoaded to avoid null refs
  document.addEventListener('DOMContentLoaded', () => {
    // Utility - escape HTML
    function escapeHtml(unsafe) { return String(unsafe).replace(/[&<>"'`]/g, function(m){return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;','`':'&#096;'}[m];}); }

    // Elements
    const canvas = document.getElementById('neuronCanvas');
    const worldCanvas = document.getElementById('worldAICanvas');
    const openAdminBtn = document.getElementById('openAdmin');
    const closeAdminBtn = document.getElementById('closeAdmin');
    const saveAdminBtn = document.getElementById('saveAdmin');
    const showServerExampleBtn = document.getElementById('showServerExample');

    const activateGptBtn = document.getElementById('activateGpt');
    const activateClaudeBtn = document.getElementById('activateClaude');
    const activateGeminiBtn = document.getElementById('activateGemini');

    const sendBtn = document.getElementById('sendBtn');
    const clearConsoleBtn = document.getElementById('clearConsole');
    const inputArea = document.getElementById('inputArea');
    const responseArea = document.getElementById('responseArea');

    const launchTTS = document.getElementById('launchTTS');
    const runRepair = document.getElementById('runRepair');
    const repairLog = document.getElementById('repairLog');
    const viewLogs = document.getElementById('viewLogs');
    const downloadLogs = document.getElementById('downloadLogs');

    const enableMonitoringBtn = document.getElementById('enableMonitoring');
    const syncAllBtn = document.getElementById('syncAll');
    const runScannerBtn = document.getElementById('runScanner');

    const monitorStatusEl = document.getElementById('monitorStatus');
    const syncStatusEl = document.getElementById('syncStatus');
    const scanStatusEl = document.getElementById('scanStatus');

    // --- Neural animation setup (Three.js) ---
    let renderer, scene, camera, points = [], lines = [];
    function initThree() {
      if (!canvas) return;
      renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
      const rect = canvas.getBoundingClientRect();
      const w = Math.max(300, rect.width || 600);
      const h = Math.max(200, rect.height || 320);
      renderer.setSize(w, h, false);
      scene = new THREE.Scene();
      camera = new THREE.PerspectiveCamera(45, w / h, 0.1, 1000);
      camera.position.z = 80;

      // create neurons
      const neuronCount = 60;
      for (let i = 0; i < neuronCount; i++) {
        const x = (Math.random() - 0.5) * 120;
        const y = (Math.random() - 0.5) * 60;
        const z = (Math.random() - 0.5) * 60;
        const material = new THREE.MeshBasicMaterial({ color: 0xffffff });
        const sphere = new THREE.Mesh(new THREE.SphereGeometry(1.2, 10, 10), material);
        sphere.position.set(x, y, z);
        scene.add(sphere);
        points.push(sphere);
      }
      const lineMaterial = new THREE.LineBasicMaterial({ color: 0x7c3aed, transparent: true, opacity: 0.25 });
      for (let i = 0; i < points.length; i++) {
        for (let j = i + 1; j < points.length; j++) {
          if (Math.random() > 0.94) {
            const geom = new THREE.BufferGeometry().setFromPoints([points[i].position, points[j].position]);
            const line = new THREE.Line(geom, lineMaterial);
            scene.add(line);
            lines.push(line);
          }
        }
      }

      animateNeurons();
      // make responsive
      window.addEventListener('resize', fitCanvas);
    }

    function fitCanvas() {
      if (!canvas || !renderer || !camera) return;
      const rect = canvas.getBoundingClientRect();
      const width = Math.max(300, rect.width);
      const height = Math.max(200, rect.height);
      renderer.setSize(width, height, false);
      camera.aspect = width / height;
      camera.updateProjectionMatrix();
    }

    let pulse = 0;
    function animateNeurons() {
      if (!renderer || !scene || !camera) return;
      pulse += 0.02;
      points.forEach((p, idx) => {
        p.scale.setScalar(0.9 + 0.2*Math.sin(pulse + idx));
        p.rotation.x += 0.002 * (idx%3+1);
        p.rotation.y += 0.003 * (idx%2+1);
      });
      lines.forEach((l, idx) => { if (l && l.material) l.material.opacity = 0.08 + 0.15*Math.abs(Math.sin(pulse + idx)); });
      renderer.render(scene, camera);
      requestAnimationFrame(animateNeurons);
    }

    initThree();
    fitCanvas();

    // --- World AI Map (canvas) ---
    let worldCtx, worldNodes = [];
    function initWorldMap() {
      if (!worldCanvas) return;
      worldCtx = worldCanvas.getContext('2d');
      resizeWorld();
      // create sample nodes (mocked clusters)
      worldNodes = Array.from({length: 24}, (_, i) => ({
        id: i+1,
        x: Math.random()*worldCanvas.width,
        y: Math.random()*worldCanvas.height,
        load: Math.random(),
        status: Math.random()>0.95? 'alert':'ok'
      }));
      drawWorld();
      window.addEventListener('resize', resizeWorld);
    }
    function resizeWorld() {
      if (!worldCanvas) return;
      worldCanvas.width = worldCanvas.clientWidth;
      worldCanvas.height = worldCanvas.clientHeight;
      drawWorld();
    }
    function drawWorld() {
      if (!worldCtx) return;
      worldCtx.clearRect(0,0,worldCanvas.width, worldCanvas.height);
      worldNodes.forEach(n => {
        // pulsing size by load
        const r = 6 + n.load*10;
        worldCtx.beginPath();
        worldCtx.fillStyle = n.status === 'alert' ? '#ff6b6b' : '#7c3aed';
        worldCtx.arc(n.x, n.y, r, 0, Math.PI*2);
        worldCtx.fill();
        worldCtx.fillStyle = '#ddd';
        worldCtx.font = '10px monospace';
        worldCtx.fillText('N'+n.id, n.x+r+4, n.y+2);
      });
    }
    initWorldMap();

    // --- State & UI helpers ---
    const state = { gpt: false, claude: false, gemini: false, monitoring: false };
    function setBadge(id, on) { const el = document.getElementById(id); if (!el) return; el.textContent = on ? 'active' : 'inactive'; el.className = on ? 'text-xs px-2 py-1 rounded text-gray-50 active-badge' : 'text-xs px-2 py-1 rounded text-gray-900 bg-yellow-400'; }
    function setCoreStatus() { const core = document.getElementById('coreStatus'); if (!core) return; core.textContent = (state.gpt || state.claude || state.gemini) ? 'partially active' : 'inactive'; }
    setBadge('gptBadge', false); setBadge('claudeBadge', false); setBadge('geminiBadge', false); setCoreStatus();

    // Activation handlers
    activateGptBtn?.addEventListener('click', () => { state.gpt = !state.gpt; setBadge('gptBadge', state.gpt); setCoreStatus(); alert((state.gpt ? 'GPT module activ√©' : 'GPT module d√©sactiv√©') + '.'); });
    activateClaudeBtn?.addEventListener('click', () => { state.claude = !state.claude; setBadge('claudeBadge', state.claude); setCoreStatus(); alert((state.claude ? 'Claude module activ√©' : 'Claude module d√©sactiv√©') + '.'); });
    activateGeminiBtn?.addEventListener('click', () => { state.gemini = !state.gemini; setBadge('geminiBadge', state.gemini); setCoreStatus(); alert((state.gemini ? 'Gemini module activ√©' : 'Gemini module d√©sactiv√©') + '.'); });

    // Admin modal controls
    openAdminBtn?.addEventListener('click', () => { const modal = document.getElementById('adminModal'); if (!modal) return; modal.classList.remove('hidden'); modal.classList.add('flex'); });
    closeAdminBtn?.addEventListener('click', () => { const modal = document.getElementById('adminModal'); if (!modal) return; modal.classList.add('hidden'); modal.classList.remove('flex'); });

    saveAdminBtn?.addEventListener('click', () => {
      const openai = document.getElementById('openaiKey')?.value?.trim();
      const anthropic = document.getElementById('anthropicKey')?.value?.trim();
      const google = document.getElementById('googleKey')?.value?.trim();
      if (openai) localStorage.setItem('OPENAI_KEY', openai);
      if (anthropic) localStorage.setItem('ANTHROPIC_KEY', anthropic);
      if (google) localStorage.setItem('GOOGLE_KEY', google);
      // also save ADMIN_KEY used for backend proxy header
      const adminKeyInput = document.getElementById('adminKey');
      if (adminKeyInput && adminKeyInput.value.trim()) localStorage.setItem('ADMIN_KEY', adminKeyInput.value.trim());
      alert('Cl√©s (test) sauvegard√©es localement. Pour production, d√©ployez un backend s√©curis√©.');
      const modal = document.getElementById('adminModal'); if (modal) { modal.classList.add('hidden'); modal.classList.remove('flex'); }
    });

    showServerExampleBtn?.addEventListener('click', () => {
      const w = window.open('', '_blank');
      if (!w) { alert('Impossible d‚Äôouvrir une nouvelle fen√™tre. D√©sactivez le bloqueur de popups et r√©essayez.'); return; }
      const content = `// Exemple minimal de backend Node/Express (server.js)
// npm install express node-fetch dotenv

require('dotenv').config();
const express = require('express');
const fetch = require('node-fetch');
const app = express();
app.use(express.json());

// simple auth middleware
function requireKey(req, res, next) { const key = req.headers['x-nxu-key']; if (!key || key !== process.env.ADMIN_KEY) return res.status(401).json({ error: 'Unauthorized' }); next(); }

// endpoint proxy pour OpenAI
app.post('/api/openai', requireKey, async (req, res) => {
  const body = req.body;
  const r = await fetch('https://api.openai.com/v1/chat/completions', { method:'POST', headers:{'Content-Type':'application/json','Authorization':'Bearer '+process.env.OPENAI_KEY}, body: JSON.stringify({ model: process.env.OPENAI_MODEL || 'gpt-4o-mini', messages:[{role:'user', content: body.prompt}] }) });
  const data = await r.json(); res.json(data);
});

app.listen(3000, () => console.log('Proxy d√©marr√© sur :3000'));`;
      w.document.open(); w.document.write('<pre style="white-space:pre-wrap;color:#ddd;background:#111;padding:20px;font-family:monospace">'+escapeHtml(content)+'</pre>');
      w.document.close();
    });

    // --- Backend call helpers (expect a proxy at /api/* that requires x-nxu-key) ---
    async function callProxy(endpoint, prompt) {
      try {
        const res = await fetch(endpoint, { method: 'POST', headers: { 'Content-Type': 'application/json', 'x-nxu-key': localStorage.getItem('ADMIN_KEY') || '' }, body: JSON.stringify({ prompt }) });
        return await res.json();
      } catch (e) { return { error: String(e) }; }
    }
    async function callOpenAI(prompt) { return await callProxy('/api/openai', prompt); }
    async function callAnthropic(prompt) { return await callProxy('/api/anthropic', prompt); }
    async function callGemini(prompt) { return await callProxy('/api/gemini', prompt); }

    // Console orchestration
    sendBtn?.addEventListener('click', async () => {
      const input = inputArea.value.trim(); if (!input) return;
      const time = new Date().toLocaleTimeString();
      responseArea.innerHTML += `<p><strong>${time} ‚Äî Vous:</strong> ${escapeHtml(input)}</p>`;

      const calls = [];
      if (state.gpt) calls.push(callOpenAI(input));
      if (state.claude) calls.push(callAnthropic(input));
      if (state.gemini) calls.push(callGemini(input));

      if (calls.length === 0) {
        const orchestrated = `Simulation: aucun module actif. Active un module ou sauvegarde tes cl√©s pour activer les appels r√©els.`;
        responseArea.innerHTML += `<p><strong>N-X-U:</strong> ${escapeHtml(orchestrated)}</p>`;
      } else {
        responseArea.innerHTML += `<p><em>N-X-U: Envoi aux modules...</em></p>`;
        const results = await Promise.all(calls);
        let merged = { sources: [], combined: '' };
        results.forEach((r, idx) => {
          merged.sources.push({ idx, r });
          if (!merged.combined && r && !r.error) {
            merged.combined = r.choices?.[0]?.message?.content || r.output?.[0]?.content || r.result || JSON.stringify(r).slice(0,500);
          }
        });
        responseArea.innerHTML += `<p><strong>N-X-U (fusion):</strong> ${escapeHtml(String(merged.combined))}</p>`;
      }

      const logs = JSON.parse(localStorage.getItem('nxuLogs') || '[]');
      logs.push({ time: new Date().toISOString(), input });
      localStorage.setItem('nxuLogs', JSON.stringify(logs));
      inputArea.value = '';
      responseArea.scrollTop = responseArea.scrollHeight;
    });

    clearConsoleBtn?.addEventListener('click', () => { responseArea.innerHTML = ''; });

    // Tools
    launchTTS?.addEventListener('click', () => {
      const text = prompt('Texte √† vocaliser (ex: "Bonjour NeuraX")', 'Bonjour NeuraX');
      if (!text) return; if (!('speechSynthesis' in window)) { alert('Synth√®se vocale non support√©e.'); return; }
      const utter = new SpeechSynthesisUtterance(text); speechSynthesis.speak(utter);
    });

    runRepair?.addEventListener('click', () => {
      const log = { time: new Date().toISOString(), action: 'auto-repair', result: 'ok', details: ['r√©initialisation neurone 12', 'r√©paration canal I/O'] };
      localStorage.setItem('repairLog', JSON.stringify(log)); alert('Auto-Repair ex√©cut√© ‚Äî rapport cr√©√©.');
    });
    repairLog?.addEventListener('click', () => { const log = localStorage.getItem('repairLog'); alert(log ? log : 'Aucun rapport disponible.'); });

    viewLogs?.addEventListener('click', () => {
      const sample = JSON.parse(localStorage.getItem('nxuLogs') || '[]');
      const w = window.open(); if (!w) { alert('Impossible d‚Äôouvrir la fen√™tre.'); return; }
      w.document.open(); w.document.write('<pre>'+escapeHtml(JSON.stringify(sample, null, 2))+'</pre>'); w.document.close();
      const blob = new Blob([JSON.stringify(sample, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob); if (downloadLogs) downloadLogs.href = url;
    });

    // --- Global features: Monitoring, Sync, Scanner (simulations) ---
    function setMonitor(status) {
      state.monitoring = status;
      monitorStatusEl.textContent = status ? 'online' : 'offline';
      monitorStatusEl.className = status ? 'chip bg-green-600 text-white' : 'chip bg-yellow-400 text-gray-900';
      // visual feedback: increase world node loads when monitoring on
      if (worldNodes && worldNodes.length) {
        worldNodes.forEach(n => { n.load = Math.min(1, n.load + (status? 0.05 : -0.05)); });
        drawWorld();
      }
    }

    enableMonitoringBtn?.addEventListener('click', () => {
      setMonitor(!state.monitoring);
      alert(state.monitoring ? 'Monitoring global activ√© (simulation).' : 'Monitoring global d√©sactiv√©.');
    });

    async function syncAllModules() {
      syncStatusEl.textContent = 'syncing'; syncStatusEl.className = 'chip bg-blue-600 text-white';
      // Simulated orchestration: ping modules and align configs (mock)
      await new Promise(r => setTimeout(r, 1200));
      // example: if modules active, mark reduced divergence
      const active = [state.gpt, state.claude, state.gemini].filter(x=>x).length;
      syncStatusEl.textContent = active ? `synced (${active})` : 'no-modules';
      syncStatusEl.className = active ? 'chip bg-green-600 text-white' : 'chip bg-yellow-400 text-gray-900';
      alert('Synchronisation compl√®te (simulation).');
    }
    syncAllBtn?.addEventListener('click', () => { syncAllModules(); });

    function runRiskScanner() {
      scanStatusEl.textContent = 'scanning'; scanStatusEl.className = 'chip bg-orange-500 text-white';
      // scan logs for anomalies (simple heuristic)
      const logs = JSON.parse(localStorage.getItem('nxuLogs') || '[]');
      const anomalies = logs.filter(e => typeof e.input === 'string' && e.input.toLowerCase().includes('error')).length;
      setTimeout(() => {
        if (anomalies > 0) {
          scanStatusEl.textContent = 'issues'; scanStatusEl.className = 'chip bg-red-600 text-white';
          alert(`Scanner d√©tecte ${anomalies} anomalies. Voir rapport.`);
        } else {
          scanStatusEl.textContent = 'clean'; scanStatusEl.className = 'chip bg-green-600 text-white';
          alert('Scanner termin√© ‚Äî aucun risque majeur d√©tect√© (simulation).');
        }
      }, 900);
    }
    runScannerBtn?.addEventListener('click', () => { runRiskScanner(); });

    // periodic visual heartbeat when monitoring
    let heartbeatInterval = null;
    function startHeartbeat() {
      if (heartbeatInterval) return;
      heartbeatInterval = setInterval(() => {
        // randomize some node loads and re-draw
        if (worldNodes) worldNodes.forEach(n=>{ n.load = Math.min(1, Math.max(0, n.load + (Math.random()-0.5)*0.08)); if (Math.random()>0.995) n.status='alert'; else if (n.status==='alert' && Math.random()>0.7) n.status='ok'; });
        drawWorld();
      }, 1200);
    }
    function stopHeartbeat() { if (heartbeatInterval) { clearInterval(heartbeatInterval); heartbeatInterval = null; } }
    // toggle heartbeat with monitoring
    const origSetMonitor = setMonitor;
    setMonitor = (status) => { origSetMonitor(status); if (status) startHeartbeat(); else stopHeartbeat(); };

    // start monitoring if previously set
    if (localStorage.getItem('NXU_MONITOR') === 'on') setMonitor(true);

    // Save ADMIN_KEY helper: expose field in modal if missing
    (function ensureAdminField(){
      const modal = document.getElementById('adminModal'); if (!modal) return;
      if (!document.getElementById('adminKey')) {
        const input = document.createElement('input');
        input.id = 'adminKey'; input.placeholder = 'ADMIN_KEY (proxy header)'; input.className = 'bg-gray-700 p-2 rounded';
        modal.querySelector('.grid').appendChild(input);
      }
    })();

    // Save NXU_MONITOR when toggling
    const origSetMonitor2 = setMonitor;
    setMonitor = (status) => { origSetMonitor2(status); localStorage.setItem('NXU_MONITOR', status? 'on':'off'); };

    // ensure world updates on resize
    window.addEventListener('resize', () => { resizeWorld(); fitCanvas(); });

  }); // DOMContentLoaded
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeuraX Hub ‚Äî Supervision Neuronale</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Orbitron:wght@400;700&display=swap');

        :root {
            --neon-cyan: #06b6d4;
            --neon-purple: #d946ef;
            --neon-amber: #f59e0b;
            --neon-green: #22c55e;
            --bg-dark: #050505;
            --panel-bg: rgba(10, 10, 12, 0.85);
        }

        body {
            background-color: var(--bg-dark);
            color: #94a3b8;
            font-family: 'JetBrains Mono', monospace;
            overflow: hidden;
        }

        .font-orbitron { font-family: 'Orbitron', sans-serif; }

        /* Scrollbar futuriste */
        ::-webkit-scrollbar { width: 4px; height: 4px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; }
        ::-webkit-scrollbar-thumb:hover { background: var(--neon-cyan); }

        /* Boutons et Panneaux */
        .panel {
            background: var(--panel-bg);
            backdrop-filter: blur(12px);
            border: 1px solid #1e293b;
            box-shadow: 0 0 15px rgba(0,0,0,0.5);
        }

        .btn-tool {
            transition: all 0.2s ease;
            border: 1px solid #1e293b;
            background: rgba(30, 41, 59, 0.5);
            color: #94a3b8;
            text-shadow: 0 0 5px rgba(0,0,0,0.5);
        }
        .btn-tool:hover {
            border-color: var(--neon-cyan);
            color: #fff;
            box-shadow: 0 0 10px rgba(6, 182, 212, 0.4);
            text-shadow: 0 0 8px var(--neon-cyan);
        }
        .btn-tool:active { transform: scale(0.98); }

        /* Sliders stylis√©s */
        input[type=range] {
            -webkit-appearance: none;
            background: transparent;
            height: 20px;
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%; height: 2px;
            background: #334155;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 10px; width: 10px;
            background: var(--neon-cyan);
            margin-top: -4px;
            transform: rotate(45deg);
            border: 1px solid #fff;
            box-shadow: 0 0 10px var(--neon-cyan);
            cursor: pointer;
        }

        /* Effets CRT / Scanline */
        .scanline {
            background: repeating-linear-gradient(
                to bottom,
                transparent 0px,
                transparent 2px,
                rgba(0, 0, 0, 0.3) 3px,
                rgba(0, 0, 0, 0.3) 4px
            );
            pointer-events: none;
        }
        .vignette {
            background: radial-gradient(circle, transparent 60%, rgba(0,0,0,0.8) 100%);
            pointer-events: none;
        }

        /* Animations */
        @keyframes pulse-slow {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }
        .animate-pulse-slow { animation: pulse-slow 3s infinite; }
    </style>
</head>
<body class="h-screen w-screen flex flex-col text-xs relative select-none">

    <!-- FX Overlays -->
    <div class="absolute inset-0 scanline z-50 opacity-20"></div>
    <div class="absolute inset-0 vignette z-50"></div>

    <!-- HEADER -->
    <header class="h-10 border-b border-gray-800 bg-black/90 flex items-center justify-between px-4 z-20 shrink-0 backdrop-blur-md">
        <div class="flex items-center gap-3">
            <div class="relative w-4 h-4 flex items-center justify-center">
                <div class="absolute inset-0 bg-cyan-500 rounded-full animate-ping opacity-20"></div>
                <div class="w-2 h-2 bg-cyan-400 rounded-full shadow-[0_0_10px_#06b6d4]"></div>
            </div>
            <h1 class="font-orbitron text-base text-cyan-100 tracking-[0.2em] drop-shadow-[0_0_5px_rgba(6,182,212,0.5)]">
                NEURA<span class="text-cyan-500">X</span> HUB <span class="text-gray-600 text-[10px] ml-2 align-super">v2.1.0</span>
            </h1>
        </div>
        <div class="flex gap-2 font-mono">
            <div class="flex items-center gap-2 px-3 py-1 bg-gray-900 border border-gray-800 rounded text-xs">
                <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                <span class="text-green-500">ONLINE</span>
            </div>
            <button onclick="resetSim()" class="px-3 py-1 bg-red-900/20 hover:bg-red-900/40 text-red-400 border border-red-900/50 rounded transition-colors">PURGE</button>
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <div class="flex-1 flex overflow-hidden relative">

        <!-- LEFT: CONTROLS -->
        <aside class="w-72 bg-gray-900/80 border-r border-gray-800 flex flex-col shrink-0 z-10 backdrop-blur-sm">
            
            <!-- Metrics Graph Placeholder -->
            <div class="h-24 border-b border-gray-800 bg-black/50 p-2 relative overflow-hidden">
                <div class="text-[10px] font-bold text-gray-500 mb-1">CHARGE NEURONALE</div>
                <div class="flex items-end justify-between h-full pb-4 gap-0.5" id="mini-graph">
                    <!-- JS generates bars here -->
                </div>
                <div class="absolute top-0 right-0 p-1 text-[9px] text-cyan-600">MONITORING</div>
            </div>

            <div class="p-4 flex-1 overflow-y-auto space-y-6">
                
                <!-- Forces -->
                <div>
                    <h2 class="text-xs font-orbitron text-amber-500 mb-3 flex items-center gap-2 tracking-wider">
                        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                        CONSTANTES
                    </h2>
                    <div class="space-y-3 text-[10px]">
                        <div class="group">
                            <div class="flex justify-between mb-1"><span class="text-cyan-300">R√©sonance Synaptique</span> <span id="val-resonance" class="font-mono">60%</span></div>
                            <input type="range" id="range-resonance" min="0" max="100" value="60">
                        </div>
                        <div class="group">
                            <div class="flex justify-between mb-1"><span class="text-purple-300">Flux de Donn√©es</span> <span id="val-flux" class="font-mono">60%</span></div>
                            <input type="range" id="range-flux" min="0" max="100" value="60">
                        </div>
                        <div class="group">
                            <div class="flex justify-between mb-1"><span class="text-green-300">Auto-Gen√®se</span> <span id="val-autogen" class="font-mono">30%</span></div>
                            <input type="range" id="range-autogen" min="0" max="100" value="30">
                        </div>
                    </div>
                </div>

                <!-- Tools -->
                <div>
                    <h2 class="text-xs font-orbitron text-purple-500 mb-3 flex items-center gap-2 tracking-wider">
                        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path></svg>
                        PROTOCOLES
                    </h2>
                    
                    <!-- Grid of actions -->
                    <div class="grid grid-cols-2 gap-2">
                        <button onclick="spawn('glint')" class="btn-tool py-2 px-2 rounded flex flex-col items-center gap-1">
                            <span class="text-[9px] uppercase tracking-wide text-cyan-400">Inject Node</span>
                            <div class="w-full h-0.5 bg-cyan-900"><div class="h-full w-1/2 bg-cyan-400"></div></div>
                        </button>
                        <button onclick="spawn('leviathan')" class="btn-tool py-2 px-2 rounded flex flex-col items-center gap-1">
                            <span class="text-[9px] uppercase tracking-wide text-purple-400">Deploy Core</span>
                            <div class="w-full h-0.5 bg-purple-900"><div class="h-full w-1/2 bg-purple-400"></div></div>
                        </button>
                    </div>

                    <div class="mt-2 space-y-2">
                        <div class="flex gap-1">
                            <button onclick="engineForge('stabilize')" class="btn-tool flex-1 py-1 text-[10px] rounded border-l-2 border-l-amber-500">Stabilize</button>
                            <button onclick="engineForge('optimize')" class="btn-tool flex-1 py-1 text-[10px] rounded">Optimize</button>
                        </div>
                        <div class="flex gap-1">
                            <button onclick="engineChoir('harmonize')" class="btn-tool flex-1 py-1 text-[10px] rounded border-l-2 border-l-blue-500">Harmonize</button>
                            <button onclick="triggerRite()" class="btn-tool flex-1 py-1 text-[10px] rounded text-purple-300">Invoke Rite</button>
                        </div>
                    </div>
                </div>

                <!-- Temporal -->
                <div class="bg-black/30 p-2 rounded border border-gray-800">
                    <label class="text-[9px] font-bold text-gray-500 mb-1 block">MANIPULATION TEMPORELLE</label>
                    <div class="flex rounded overflow-hidden border border-gray-700">
                        <button onclick="timeControl(-1)" class="flex-1 bg-gray-800 hover:bg-gray-700 text-gray-400 py-1">‚óÑ‚óÑ</button>
                        <button onclick="timeControl(0)" class="flex-1 bg-gray-800 hover:bg-gray-700 text-gray-400 py-1 border-x border-gray-700">‚ùö‚ùö</button>
                        <button onclick="timeControl(1)" class="flex-1 bg-gray-800 hover:bg-gray-700 text-gray-400 py-1">‚ñ∫</button>
                        <button onclick="timeControl(2)" class="flex-1 bg-gray-800 hover:bg-gray-700 text-gray-400 py-1 border-l border-gray-700">‚ñ∫‚ñ∫</button>
                    </div>
                </div>
            </div>
        </aside>

        <!-- CENTER: VISUALIZATION -->
        <main class="flex-1 flex flex-col relative bg-black cursor-crosshair">
            
            <!-- HUD Overlay -->
            <div class="absolute top-4 left-4 right-4 flex justify-between pointer-events-none z-10">
                <!-- Left Stats -->
                <div class="flex flex-col gap-1">
                    <div class="text-[10px] text-cyan-600 font-bold tracking-widest">TOPOLOGIE R√âSEAU</div>
                    <div class="flex items-baseline gap-2">
                        <span class="text-3xl font-orbitron text-cyan-400 drop-shadow-[0_0_8px_rgba(6,182,212,0.8)]" id="hud-nodes">0</span>
                        <span class="text-xs text-gray-500">ACTIFS</span>
                    </div>
                    <div class="text-[10px] text-purple-400 mt-1">DENSIT√â: <span id="hud-density" class="text-white font-mono">0.00</span>/cm¬≥</div>
                </div>
                
                <!-- Center Status -->
                <div class="text-center pt-2">
                    <div class="inline-block px-4 py-1 border border-gray-700 bg-black/60 backdrop-blur rounded-full">
                        <span class="text-[10px] text-gray-400">√âTAT SYST√àME:</span>
                        <span id="system-status" class="text-green-400 font-bold ml-1 animate-pulse-slow">NOMINAL</span>
                    </div>
                </div>

                <!-- Right Clock -->
                <div class="text-right">
                     <div class="text-[10px] text-gray-600 font-bold tracking-widest">TEMPS UNIVERSEL</div>
                     <div class="text-xl font-mono text-gray-300" id="clock">00:00:00</div>
                     <div class="text-[10px] text-amber-600">CYCLE: <span id="hud-cycle">T3-FRACTURE</span></div>
                </div>
            </div>

            <!-- CANVAS -->
            <canvas id="simCanvas" class="w-full h-full block"></canvas>

            <!-- Floating Terminal Input -->
            <div class="absolute bottom-6 left-1/2 -translate-x-1/2 w-96 max-w-full px-4">
                <div class="bg-black/80 backdrop-blur border border-gray-700 rounded-lg p-1 flex items-center shadow-2xl shadow-purple-900/20">
                    <span class="text-green-500 px-2 font-mono">></span>
                    <input type="text" id="dsl-input" placeholder="Entrer commande (ex: spawn 10)..." class="bg-transparent border-none text-cyan-300 text-xs w-full focus:outline-none font-mono h-8">
                </div>
            </div>

        </main>

        <!-- RIGHT: LOGS & LAYERS -->
        <aside class="w-64 bg-gray-900/90 border-l border-gray-800 flex flex-col shrink-0 z-10 backdrop-blur-sm">
            
            <div class="flex items-center justify-between px-3 py-2 bg-black/40 border-b border-gray-800">
                <span class="text-[10px] font-bold text-gray-500 uppercase">Journal d'√©v√©nements</span>
                <div class="flex gap-1">
                    <div class="w-1.5 h-1.5 rounded-full bg-gray-600"></div>
                    <div class="w-1.5 h-1.5 rounded-full bg-gray-600"></div>
                </div>
            </div>
            
            <div id="terminal-output" class="flex-1 overflow-y-auto p-3 font-mono text-[10px] space-y-1.5 text-gray-400 scroll-smooth">
                <div class="text-green-500 border-l-2 border-green-500 pl-2 bg-green-900/10 py-1">
                    [SYS] Initialisation du noyau...<br>
                    [SYS] Moteur graphique: CANVAS_2D_HQ<br>
                    [SYS] Pr√™t.
                </div>
            </div>

            <!-- Layers Control -->
            <div class="h-1/3 border-t border-gray-800 p-3 bg-black/20">
                <h3 class="text-[10px] font-bold text-gray-500 uppercase mb-2 tracking-wider">VUES SPECTRALES</h3>
                <div class="space-y-2">
                    <label class="flex items-center justify-between cursor-pointer group">
                        <span class="text-cyan-200 group-hover:text-white transition-colors">Synapses</span>
                        <input type="checkbox" checked onchange="toggleLayer('synapses')" class="accent-cyan-500"> 
                    </label>
                    <label class="flex items-center justify-between cursor-pointer group">
                        <span class="text-purple-200 group-hover:text-white transition-colors">Noyaux (Nodes)</span>
                        <input type="checkbox" checked onchange="toggleLayer('nodes')" class="accent-purple-500"> 
                    </label>
                    <label class="flex items-center justify-between cursor-pointer group">
                        <span class="text-green-200 group-hover:text-white transition-colors">Signaux</span>
                        <input type="checkbox" checked onchange="toggleLayer('signals')" class="accent-green-500"> 
                    </label>
                </div>
            </div>
        </aside>
    </div>

    <script>
        /* --- CONFIGURATION & STATE --- */
        const CONFIG = {
            colors: {
                node: '#06b6d4',
                core: '#d946ef',
                scribe: '#22c55e',
                server_openai: '#10a37f', // OpenAI Green
                server_gemini: '#4b90ff', // Gemini Blue
                server_claude: '#da7756', // Claude Orange
                synapse: 'rgba(6, 182, 212, 0.15)',
                signal: '#ffffff'
            },
            connectionDistance: 120,
            maxNodes: 150
        };

        let state = {
            nodes: [],
            signals: [], 
            paused: false,
            timeScale: 1,
            resonance: 60,
            flux: 60,
            autogen: 30,
            layers: { synapses: true, nodes: true, signals: true },
            lastFrame: 0
        };

        /* --- CANVAS --- */
        const canvas = document.getElementById('simCanvas');
        const ctx = canvas.getContext('2d', { alpha: false });

        function resize() {
            canvas.width = canvas.parentElement.clientWidth;
            canvas.height = canvas.parentElement.clientHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        /* --- CLASSES --- */
        class Node {
            constructor(type, x, y, label = '') {
                this.id = Math.random().toString(36).substr(2, 5).toUpperCase();
                this.type = type; 
                this.x = x || Math.random() * canvas.width;
                this.y = y || Math.random() * canvas.height;
                this.label = label;
                
                // Server types are heavy and slower
                if (this.type === 'server') {
                    this.vx = (Math.random() - 0.5) * 0.2;
                    this.vy = (Math.random() - 0.5) * 0.2;
                    this.size = 12; 
                } else {
                    this.vx = (Math.random() - 0.5) * (Math.random() * 2);
                    this.vy = (Math.random() - 0.5) * (Math.random() * 2);
                    this.size = type === 'leviathan' ? 6 : (type === 'scribe' ? 3 : 1.5);
                }
                
                this.pulse = 0;
            }

            update(dt) {
                // Movement logic
                const speed = (state.flux / 50) * state.timeScale;
                this.x += this.vx * speed;
                this.y += this.vy * speed;

                // Bounce
                if (this.x < 0 || this.x > canvas.width) this.vx *= -1;
                if (this.y < 0 || this.y > canvas.height) this.vy *= -1;

                // Bounds clamp
                this.x = Math.max(0, Math.min(canvas.width, this.x));
                this.y = Math.max(0, Math.min(canvas.height, this.y));

                // Pulse decay
                if (this.pulse > 0) this.pulse -= 0.05 * state.timeScale;
            }
        }

        class Signal {
            constructor(startNode, endNode) {
                this.start = startNode;
                this.end = endNode;
                this.progress = 0;
                this.speed = 0.02 + (Math.random() * 0.03);
                this.dead = false;
            }

            update() {
                this.progress += this.speed * state.timeScale * (state.flux / 40);
                if (this.progress >= 1) {
                    this.dead = true;
                    this.end.pulse = 1; // Excitation
                }
            }

            draw(ctx) {
                if (this.dead) return;
                const x = this.start.x + (this.end.x - this.start.x) * this.progress;
                const y = this.start.y + (this.end.y - this.start.y) * this.progress;
                
                ctx.fillStyle = '#fff';
                ctx.beginPath();
                ctx.arc(x, y, 1.5, 0, Math.PI * 2);
                ctx.fill();
                
                // Glow trail
                ctx.shadowBlur = 4;
                ctx.shadowColor = '#fff';
            }
        }

        /* --- ENGINE --- */
        function init() {
            // Clean start
            state.nodes = [];
            
            // Spawn AI SERVERS
            // Position them in a triangle formation roughly
            const cx = canvas.width / 2;
            const cy = canvas.height / 2;
            
            // OpenAI (Green)
            state.nodes.push(new Node('server', cx - 150, cy + 50, 'OpenAI'));
            // Gemini (Blue)
            state.nodes.push(new Node('server', cx, cy - 100, 'Gemini'));
            // Claude (Orange)
            state.nodes.push(new Node('server', cx + 150, cy + 50, 'Claude'));

            spawn('glint', 30);
            spawn('leviathan', 3);
            
            // Force resize to be sure
            resize();
            
            loop(0);
            setInterval(slowLogic, 500);
            initMiniGraph();
            
            log("[SYS] Serveurs IA connect√©s: OpenAI, Gemini, Claude.");
        }

        function spawn(type, count = 1) {
            for (let i = 0; i < count; i++) {
                if (state.nodes.length >= CONFIG.maxNodes) break;
                state.nodes.push(new Node(type));
            }
            if(type !== 'glint') log(`Injection: ${count} ${type}(s)`);
        }

        function loop(timestamp) {
            if (!state.paused) {
                ctx.fillStyle = '#050505';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                updateEntities();

                ctx.globalCompositeOperation = 'screen'; 
                drawSynapses();
                if (state.layers.signals) drawSignals();
                if (state.layers.nodes) drawNodes();
                ctx.globalCompositeOperation = 'source-over';
            }
            requestAnimationFrame(loop);
        }

        function updateEntities() {
            state.nodes.forEach(n => n.update());
            
            state.signals.forEach(s => s.update());
            state.signals = state.signals.filter(s => !s.dead);

            // Chance to spawn signal on connection
            if (state.flux > 10 && Math.random() < (state.flux / 2000)) {
                const n1 = state.nodes[Math.floor(Math.random() * state.nodes.length)];
                // Prefer connections to servers
                let dist = CONFIG.connectionDistance;
                // Servers have larger gravitational pull for signals
                if(n1.type === 'server') dist *= 2.5; 

                let neighbors = state.nodes.filter(n2 => n1 !== n2 && Math.hypot(n1.x-n2.x, n1.y-n2.y) < dist);
                if (neighbors.length > 0) {
                    const n2 = neighbors[Math.floor(Math.random() * neighbors.length)];
                    state.signals.push(new Signal(n1, n2));
                }
            }
            
            if (state.nodes.length < 25 && state.autogen > 0) spawn('glint');
        }

        function drawSynapses() {
            if (!state.layers.synapses) return;

            ctx.lineWidth = 1;
            for (let i = 0; i < state.nodes.length; i++) {
                for (let j = i + 1; j < state.nodes.length; j++) {
                    const n1 = state.nodes[i];
                    const n2 = state.nodes[j];
                    const d = Math.hypot(n1.x - n2.x, n1.y - n2.y);
                    
                    // Servers have longer reach
                    let maxDist = CONFIG.connectionDistance;
                    if (n1.type === 'server' || n2.type === 'server') maxDist *= 2;

                    if (d < maxDist) {
                        const opacity = 1 - (d / maxDist);
                        // Use server color if connected to server
                        let color = CONFIG.colors.synapse;
                        if (n1.type === 'server') color = hexToRgba(getColorForNode(n1), opacity * 0.5);
                        else if (n2.type === 'server') color = hexToRgba(getColorForNode(n2), opacity * 0.5);
                        else color = `rgba(6, 182, 212, ${opacity * 0.3})`;

                        ctx.strokeStyle = color;
                        ctx.beginPath();
                        ctx.moveTo(n1.x, n1.y);
                        ctx.lineTo(n2.x, n2.y);
                        ctx.stroke();
                    }
                }
            }
        }

        function drawNodes() {
            state.nodes.forEach(n => {
                ctx.fillStyle = getColorForNode(n);
                
                const glow = n.pulse * 10 + (n.type === 'server' ? 10 : 2);
                ctx.shadowBlur = glow;
                ctx.shadowColor = ctx.fillStyle;

                ctx.beginPath();
                
                if (n.type === 'server') {
                    // Draw Server as Square/Rhombus
                    const s = n.size + n.pulse;
                    ctx.rect(n.x - s, n.y - s, s*2, s*2);
                } else {
                    // Standard circle
                    ctx.arc(n.x, n.y, n.size + n.pulse, 0, Math.PI * 2);
                }
                ctx.fill();

                // Labels
                if (n.type === 'server') {
                    ctx.fillStyle = '#fff';
                    ctx.font = 'bold 10px Orbitron';
                    ctx.textAlign = 'center';
                    ctx.fillText(n.label, n.x, n.y - n.size - 8);
                } else if (n.type === 'leviathan') {
                    ctx.fillStyle = '#fff';
                    ctx.font = '9px JetBrains Mono';
                    ctx.textAlign = 'left';
                    ctx.fillText(n.id, n.x + 8, n.y + 3);
                }
            });
            ctx.shadowBlur = 0; 
            ctx.textAlign = 'left';
        }

        function getColorForNode(n) {
            if (n.type === 'server') {
                if (n.label === 'OpenAI') return CONFIG.colors.server_openai;
                if (n.label === 'Gemini') return CONFIG.colors.server_gemini;
                if (n.label === 'Claude') return CONFIG.colors.server_claude;
                return '#fff';
            }
            return n.type === 'leviathan' ? CONFIG.colors.core : 
                   (n.type === 'scribe' ? CONFIG.colors.scribe : CONFIG.colors.node);
        }
        
        function hexToRgba(hex, alpha) {
            const r = parseInt(hex.slice(1, 3), 16);
            const g = parseInt(hex.slice(3, 5), 16);
            const b = parseInt(hex.slice(5, 7), 16);
            return `rgba(${r}, ${g}, ${b}, ${alpha})`;
        }

        function drawSignals() {
            state.signals.forEach(s => s.draw(ctx));
        }

        /* --- TOOLS & LOGIC --- */
        
        function slowLogic() {
            document.getElementById('hud-nodes').innerText = state.nodes.length;
            document.getElementById('clock').innerText = new Date().toLocaleTimeString();
            const density = (state.nodes.length * state.resonance / 10000).toFixed(2);
            document.getElementById('hud-density').innerText = density;
            updateMiniGraph(state.nodes.length);
        }

        function triggerRite() {
            log("[WARN] Rite de R√©sonance invoqu√©.");
            state.nodes.forEach(n => { n.pulse = 3; });
        }

        function engineForge(mode) {
            log(`[FORGE] Ex√©cution: ${mode.toUpperCase()}`);
            if (mode === 'stabilize') {
                state.nodes.forEach(n => { n.vx *= 0.5; n.vy *= 0.5; });
            } else if (mode === 'optimize') {
                state.nodes.forEach(n => {
                    if(n.type !== 'server') {
                        n.x += (Math.random()-0.5)*20; 
                        n.y += (Math.random()-0.5)*20;
                    }
                });
            }
        }
        
        function engineChoir(mode) {
            log(`[CHOIR] Chant: ${mode.toUpperCase()}`);
            if(mode === 'harmonize') {
                const cx = canvas.width/2;
                const cy = canvas.height/2;
                state.nodes.forEach((n, i) => {
                    if(n.type !== 'server') {
                        const angle = (i / state.nodes.length) * Math.PI * 2;
                        n.vx = (Math.cos(angle) * 100 + cx - n.x) * 0.05;
                        n.vy = (Math.sin(angle) * 100 + cy - n.y) * 0.05;
                    }
                });
            }
        }

        function timeControl(val) {
            state.timeScale = val;
            state.paused = (val === 0);
            log(`[CHRONO] Vitesse x${val}`);
        }

        function executeDsl() {
            const inp = document.getElementById('dsl-input');
            const cmd = inp.value.trim().toLowerCase();
            if(!cmd) return;
            log(`> USER: ${cmd}`);
            const parts = cmd.split(' ');
            if(parts[0] === 'spawn') spawn('glint', parseInt(parts[1]) || 1);
            else if(parts[0] === 'reset') init();
            else log("Erreur syntaxique.");
            inp.value = '';
        }

        function log(msg) {
            const term = document.getElementById('terminal-output');
            const div = document.createElement('div');
            div.className = "border-l-2 border-gray-700 pl-2 hover:bg-gray-800/50 transition-colors";
            div.innerHTML = `<span class="text-gray-600">[${new Date().toLocaleTimeString().split(' ')[0]}]</span> ${msg}`;
            term.appendChild(div);
            term.scrollTop = term.scrollHeight;
        }

        function toggleLayer(l) { state.layers[l] = !state.layers[l]; }

        /* --- MINI GRAPH --- */
        let graphData = new Array(20).fill(0);
        function initMiniGraph() {
            const container = document.getElementById('mini-graph');
            container.innerHTML = '';
            graphData.forEach(() => {
                const bar = document.createElement('div');
                bar.className = 'flex-1 bg-cyan-900/50';
                bar.style.height = '5%';
                container.appendChild(bar);
            });
        }
        function updateMiniGraph(val) {
            graphData.shift(); graphData.push(val);
            const bars = document.getElementById('mini-graph').children;
            const max = Math.max(...graphData, 10);
            for(let i=0; i<bars.length; i++) {
                bars[i].style.height = `${Math.max(5, (graphData[i]/max)*100)}%`;
            }
        }

        function resetSim() { init(); }

        // Listeners
        document.getElementById('range-resonance').addEventListener('input', e => { state.resonance = e.target.value; document.getElementById('val-resonance').innerText = e.target.value + '%'; });
        document.getElementById('range-flux').addEventListener('input', e => { state.flux = e.target.value; document.getElementById('val-flux').innerText = e.target.value + '%'; });
        document.getElementById('range-autogen').addEventListener('input', e => { state.autogen = e.target.value; document.getElementById('val-autogen').innerText = e.target.value + '%'; });
        document.getElementById('dsl-input').addEventListener('keydown', e => { if(e.key === 'Enter') executeDsl(); });

        // Start
        init();

    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N-X-U: Orchestration of the Cognitive Symphony</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0f2c; /* Very Dark Desaturated Blue */
            color: #e0e7ff; /* Light Lavender Blue */
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Orbitron', sans-serif;
        }
        .neon-text-cyan {
            color: #00d2ff;
            text-shadow: 0 0 3px #00d2ff, 0 0 6px #00d2ff;
        }
        .neon-text-pink {
            color: #ff416c;
            text-shadow: 0 0 3px #ff416c, 0 0 6px #ff416c;
        }
        .card {
            background-color: rgba(26, 30, 65, 0.7); /* Dark Desaturated Blue with transparency */
            border: 1px solid rgba(0, 210, 255, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 210, 255, 0.2);
        }
        .section-divider {
            height: 2px;
            background: linear-gradient(90deg, transparent, #00d2ff, transparent);
            margin: 3rem 0;
        }
        .flow-line {
            border-color: #00d2ff;
            opacity: 0.5;
        }
        .flow-box {
            border: 1px solid #00d2ff;
            background-color: rgba(0, 210, 255, 0.05);
        }
        .tooltip-multiline-title .chartjs-tooltip-title {
            white-space: normal !important;
        }
    </style>
</head>
<body class="antialiased">
    <!-- Application Structure Plan:
        The SPA will be a single, scrollable page with a clear narrative flow.
        1. Hero Section: Introduce N-X-U and its grand vision.
        2. The Titans: Section for each AI model (GPT-5, Claude, Gemini) using cards, highlighting strengths with text and conceptual bar charts.
        3. The Fusion (Architecture): Visual representation (HTML/CSS diagram) of N-X-U Core, modular design, and inter-model communication.
        4. The Orchestra (Implementation): Detail API integration and task orchestration, possibly with another simple HTML/CSS flow diagram.
        5. The Guardians (Security & Ethics): Bullet points with icons.
        6. The Future (Conclusion): Reinforce the "symphony of intelligences."
        Navigation will be primarily through scrolling, with a subtle sticky header for branding.
    -->
    <!-- Visualization & Content Choices:
        - Hero: Large impactful text.
        - Titans (GPT-5, Claude, Gemini): Cards. Strengths as lists. Conceptual Bar Charts (Chart.js) for "Multimodal Capability", "Reasoning", "Ethics", "Context Window". Data: Arbitrary scores (e.g., 90%, 85%) for illustration. Goal: Compare. Justification: Bar charts are good for comparing discrete categories.
        - Architecture (N-X-U Core, Modules): HTML/CSS diagram with flexbox/grid. Goal: Organize. Justification: Clear visual representation of structure without SVG/Mermaid.
        - Implementation (API, Orchestration): HTML/CSS flow diagram. Goal: Organize. Justification: Illustrate process flow.
        - Security & Ethics: Lists with Unicode icons. Goal: Inform. Justification: Concise presentation.
        - All Chart.js instances will use Canvas, have responsive:true, maintainAspectRatio:false, and include the specified tooltip callback for multiline labels. Label wrapping logic will be applied.
    -->
    <header class="sticky top-0 z-50 bg-opacity-80 backdrop-blur-md shadow-lg" style="background-color: rgba(10, 15, 44, 0.8);">
        <div class="container mx-auto px-6 py-4">
            <h1 class="text-3xl font-bold neon-text-cyan">N-X-U : The Cognitive Symphony</h1>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12">

        <section id="vision" class="text-center mb-24">
            <h2 class="text-5xl font-bold mb-6 neon-text-pink">Orchestrating Tomorrow's Intelligence</h2>
            <p class="text-xl lg:text-2xl text-gray-300 max-w-3xl mx-auto mb-4">
                N-X-U (NeuraX-Ultimate): a masterful fusion of GPT-5, Claude 3.7 Sonnet, and Gemini 2.5 Pro to create a synergistic artificial intelligence, marking a new paradigm.
            </p>
            <p class="text-md text-gray-400 max-w-3xl mx-auto">
                This project aims to create an "Orchestrated General Intelligence" (OGI), where "general" capability stems from the intelligent coordination of specialized components.
            </p>
        </section>

        <div class="section-divider"></div>

        <section id="titans" class="mb-24">
            <h2 class="text-4xl font-bold text-center mb-12 neon-text-cyan">Mapping the Titans: The Pillars of N-X-U</h2>
            <div class="grid md:grid-cols-1 lg:grid-cols-3 gap-8">

                <div class="card p-6 rounded-lg">
                    <h3 class="text-3xl font-semibold mb-4 neon-text-pink">GPT-5</h3>
                    <p class="text-xl text-gray-400 mb-4 italic">The Multimodal Virtuoso</p>
                    <ul class="list-disc list-inside space-y-2 mb-6 text-gray-300">
                        <li>**Advanced Multimodality**: Processes text, images, audio, and video.</li>
                        <li>**Complex Reasoning**: Excellence in content analysis and generation.</li>
                    </ul>
                    <div class="chart-container h-64 max-h-64 max-w-md mx-auto">
                        <canvas id="gpt5Chart"></canvas>
                    </div>
                    <p class="mt-4 text-sm text-gray-400">**Role in N-X-U:** Engine for multimedia creation and complex data analysis.</p>
                </div>

                <div class="card p-6 rounded-lg">
                    <h3 class="text-3xl font-semibold mb-4 neon-text-pink">Claude 3.7 Sonnet</h3>
                    <p class="text-xl text-gray-400 mb-4 italic">The Ethical Thinker</p>
                    <ul class="list-disc list-inside space-y-2 mb-6 text-gray-300">
                        <li>**Hybrid Reasoning**: "Extended thought" mode for in-depth analysis.</li>
                        <li>**Security and Ethics**: "Constitutional AI" approach for safe interactions.</li>
                    </ul>
                    <div class="chart-container h-64 max-h-64 max-w-md mx-auto">
                        <canvas id="claudeChart"></canvas>
                    </div>
                    <p class="mt-4 text-sm text-gray-400">**Role in N-X-U:** Provides ethical reasoning and strategic planning.</p>
                </div>

                <div class="card p-6 rounded-lg">
                    <h3 class="text-3xl font-semibold mb-4 neon-text-pink">Gemini 2.5 Pro</h3>
                    <p class="text-xl text-gray-400 mb-4 italic">The Multimodal Polyglot</p>
                    <ul class="list-disc list-inside space-y-2 mb-6 text-gray-300">
                        <li>**Extended Multimodality**: Comprehensive processing of text, images, audio, video.</li>
                        <li>**Massive Context Window**: Up to 1 million tokens.</li>
                    </ul>
                    <div class="chart-container h-64 max-h-64 max-w-md mx-auto">
                        <canvas id="geminiChart"></canvas>
                    </div>
                    <p class="mt-4 text-sm text-gray-400">**Role in N-X-U:** Multimodal processing, real-time interactions, and long context management.</p>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <section id="architecture" class="mb-24">
            <h2 class="text-4xl font-bold text-center mb-12 neon-text-cyan">The Architecture of Fusion</h2>
            <div class="grid md:grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div>
                    <h3 class="text-3xl font-semibold mb-6 neon-text-pink">A. Modular Architecture</h3>
                    <p class="text-lg text-gray-300 mb-4">The core of N-X-U is its **Central Brain (N-X-U Core)**, an intelligent orchestrator that decomposes tasks and dynamically delegates them to specialized modules:</p>
                    <ul class="list-disc list-inside space-y-2 mb-6 text-gray-300 pl-4">
                        <li>**GPT-5 Module:** Multimedia creation, complex data analysis.</li>
                        <li>**Claude 3.7 Sonnet Module:** Ethical reasoning, strategic planning.</li>
                        <li>**Gemini 2.5 Pro Module:** Multimodal processing, real-time interactions.</li>
                    </ul>
                    <p class="text-gray-400 text-sm">This modular design allows for increased specialization and efficiency, forming a superior collective intelligence.</p>
                </div>
                <div class="flow-box p-6 rounded-lg">
                    <div class="text-center mb-4">
                        <div class="inline-block p-4 border-2 border-pink-500 rounded-lg shadow-lg bg-gray-800">
                            <h4 class="text-xl font-semibold neon-text-pink">N-X-U Core (Orchestrator)</h4>
                        </div>
                    </div>
                    <div class="flex justify-center items-center my-4">
                        <div class="flow-line h-12 w-px"></div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
                        <div class="flow-box p-3 rounded">
                            <p class="font-semibold text-cyan-400">GPT-5 Module</p>
                            <p class="text-xs text-gray-400">Creation & Analysis</p>
                        </div>
                        <div class="flow-box p-3 rounded">
                            <p class="font-semibold text-purple-400">Claude 3.7 Module</p>
                            <p class="text-xs text-gray-400">Ethics & Strategy</p>
                        </div>
                        <div class="flow-box p-3 rounded">
                            <p class="font-semibold text-teal-400">Gemini 2.5 Module</p>
                            <p class="text-xs text-gray-400">Multimodal & Real-time</p>
                        </div>
                    </div>
                    <div class="flex justify-around mt-4">
                         <div class="flow-line h-8 w-px rotate-45 transform origin-bottom-left"></div>
                         <div class="flow-line h-8 w-px"></div>
                         <div class="flow-line h-8 w-px -rotate-45 transform origin-bottom-right"></div>
                    </div>
                </div>
            </div>
             <div class="mt-12">
                <h3 class="text-3xl font-semibold mb-6 neon-text-pink">B. Inter-Model Communication</h3>
                <p class="text-lg text-gray-300 mb-4">Standardized **RESTful APIs** ensure communication. A major challenge is guaranteeing consistent semantic understanding between models.</p>
                <p class="text-lg text-gray-300">**Conflict Management** uses meta-reasoning to evaluate and unify outputs, based on reliability, relevance, and ethical compliance.</p>
            </div>
        </section>

        <div class="section-divider"></div>

        <section id="implementation" class="mb-24">
            <h2 class="text-4xl font-bold text-center mb-12 neon-text-cyan">Technical Implementation</h2>
            <div class="grid md:grid-cols-1 lg:grid-cols-2 gap-12 items-start">
                <div>
                    <h3 class="text-3xl font-semibold mb-6 neon-text-pink">A. API Integration</h3>
                    <p class="text-lg text-gray-300 mb-4">API integration for each model is the first step, involving:</p>
                    <ul class="list-disc list-inside space-y-2 text-gray-300 pl-4">
                        <li>Secure configuration of API keys.</li>
                        <li>Management of rate limits.</li>
                        <li>Processing of diverse multimodal input/output formats.</li>
                    </ul>
                </div>
                <div class="flow-box p-6 rounded-lg">
                    <h3 class="text-3xl font-semibold mb-6 neon-text-pink">B. Task Orchestration</h3>
                    <div class="space-y-4">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">üì•</span>
                            <div>
                                <h4 class="font-semibold text-cyan-400">Request Management System</h4>
                                <p class="text-sm text-gray-400">Analyzes the task and directs it to the most suitable module via NLU and classifiers.</p>
                            </div>
                        </div>
                        <div class="text-center text-2xl neon-text-pink">‚Üì</div>
                        <div class="flex items-center">
                             <span class="text-2xl mr-4">üß©</span>
                            <div>
                                <h4 class="font-semibold text-cyan-400">Results Aggregation</h4>
                                <p class="text-sm text-gray-400">Merges responses (semantic fusion, redundancy elimination, inconsistency resolution) for consistent output.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <section id="ethics" class="mb-24">
            <h2 class="text-4xl font-bold text-center mb-12 neon-text-cyan">Pillars of Trust: Security and Ethics</h2>
            <div class="grid md:grid-cols-2 gap-8 text-lg text-gray-300">
                <div class="card p-6 rounded-lg">
                    <h3 class="text-2xl font-semibold mb-3 neon-text-pink">üõ°Ô∏è Content Filtering</h3>
                    <p>Implementation of advanced filters (beyond keywords) to proactively prevent the generation of harmful, biased, or misleading content, both inbound and outbound.</p>
                </div>
                <div class="card p-6 rounded-lg">
                    <h3 class="text-2xl font-semibold mb-3 neon-text-pink">‚öñÔ∏è Decision Auditing</h3>
                    <p>Meticulous logging of each request, involved models, their outputs, and the resolution process to ensure traceability, accountability, and continuous improvement.</p>
                </div>
            </div>
            <p class="mt-8 text-center text-gray-400 text-md">The architectural integration of ethics, notably via the Claude 3.7 Sonnet module, is fundamental for responsible deployment.</p>
        </section>

        <div class="section-divider"></div>

        <section id="future" class="text-center">
            <h2 class="text-5xl font-bold mb-6 neon-text-cyan">To Infinity and Beyond</h2>
            <p class="text-xl lg:text-2xl text-gray-300 max-w-3xl mx-auto mb-4">
                By integrating these three AI giants, N-X-U will become an entity capable of understanding, reasoning, and creating with unparalleled depth.
            </p>
            <p class="text-lg text-gray-400 max-w-3xl mx-auto neon-text-pink font-semibold">
                A symphony of intelligences, orchestrated by human genius.
            </p>
        </section>
    </main>

    <footer class="text-center py-8 mt-12 border-t border-gray-700">
        <p class="text-gray-500">&copy; 2025 N-X-U Initiative. All rights reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const tooltipCallback = {
                title: function(tooltipItems) {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    if (Array.isArray(label)) {
                        return label.join(' ');
                    } else {
                        return label;
                    }
                }
            };

            const processLabels = (labels) => {
                return labels.map(label => {
                    if (label.length > 16) {
                        const words = label.split(' ');
                        const newLabel = [];
                        let currentLine = '';
                        words.forEach(word => {
                            if ((currentLine + word).length > 16 && currentLine.length > 0) {
                                newLabel.push(currentLine.trim());
                                currentLine = word + ' ';
                            } else {
                                currentLine += word + ' ';
                            }
                        });
                        if (currentLine.trim().length > 0) {
                            newLabel.push(currentLine.trim());
                        }
                        return newLabel;
                    }
                    return label;
                });
            };

            const commonChartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: {
                            color: '#e0e7ff'
                        }
                    },
                    tooltip: {
                        callbacks: tooltipCallback,
                        bodyColor: '#e0e7ff',
                        titleColor: '#e0e7ff',
                        backgroundColor: 'rgba(26, 30, 65, 0.9)', // Card background color
                        borderColor: '#00d2ff',
                        borderWidth: 1
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100, // Assuming scores are percentages
                        ticks: {
                            color: '#e0e7ff',
                            stepSize: 20
                        },
                        grid: {
                            color: 'rgba(0, 210, 255, 0.1)'
                        }
                    },
                    x: {
                        ticks: {
                            color: '#e0e7ff'
                        },
                        grid: {
                            color: 'rgba(0, 210, 255, 0.1)'
                        }
                    }
                }
            };

            // GPT-5 Chart
            const gpt5Labels = processLabels(['Advanced Multimodality', 'Complex Reasoning', 'Generative Power']);
            const gpt5Data = {
                labels: gpt5Labels,
                datasets: [{
                    label: 'GPT-5 Capabilities (Conceptual)',
                    data: [95, 92, 90], // Conceptual scores
                    backgroundColor: 'rgba(0, 210, 255, 0.6)', // Cyan
                    borderColor: 'rgba(0, 210, 255, 1)',
                    borderWidth: 1
                }]
            };
            new Chart(document.getElementById('gpt5Chart'), { type: 'bar', data: gpt5Data, options: commonChartOptions });

            // Claude 3.7 Sonnet Chart
            const claudeLabels = processLabels(['Hybrid Reasoning', 'Security & Ethics', 'Extended Thought']);
            const claudeData = {
                labels: claudeLabels,
                datasets: [{
                    label: 'Claude 3.7 Sonnet Capabilities (Conceptual)',
                    data: [88, 98, 85], // Conceptual scores
                    backgroundColor: 'rgba(138, 43, 226, 0.6)', // Purple
                    borderColor: 'rgba(138, 43, 226, 1)',
                    borderWidth: 1
                }]
            };
            new Chart(document.getElementById('claudeChart'), { type: 'bar', data: claudeData, options: commonChartOptions });

            // Gemini 2.5 Pro Chart
            const geminiLabels = processLabels(['Extended Multimodality', 'Massive Context Window', 'Real-time Processing']);
            const geminiData = {
                labels: geminiLabels,
                datasets: [{
                    label: 'Gemini 2.5 Pro Capabilities (Conceptual)',
                    data: [93, 99, 89], // Conceptual scores
                    backgroundColor: 'rgba(255, 65, 108, 0.6)', // Pink/Red
                    borderColor: 'rgba(255, 65, 108, 1)',
                    borderWidth: 1
                }]
            };
            new Chart(document.getElementById('geminiChart'), { type: 'bar', data: geminiData, options: commonChartOptions });
        });
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="neuraX-ultime ‚Äì Central Artificial Brain Project Overview">
  <title>neuraX-ultime ‚Äì Central Brain Overview</title>
  <style>
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background-color: #000;
      color: #0ff;
      margin: 0;
      padding: 0 2rem;
      background-image: url('https://www.transparenttextures.com/patterns/stardust.png');
      background-size: cover;
      background-repeat: repeat;
    }

    header {
      text-align: center;
      padding: 3rem 1rem 2rem 1rem;
      border-bottom: 1px solid #0ff;
    }

    h1 {
      font-size: 2.5rem;
      color: #00ffff;
    }

    p {
      font-size: 1.1rem;
      line-height: 1.6;
    }

    section {
      margin: 2rem 0;
    }

    h2 {
      color: #00e6e6;
      font-size: 1.5rem;
    }

    footer {
      border-top: 1px solid #0ff;
      text-align: center;
      padding: 2rem 0;
      font-size: 0.9rem;
      color: #aaa;
    }

    .highlight {
      color: #fff;
      background-color: #00ffff22;
      padding: 0.2rem 0.5rem;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <header>
    <h1>üß† neuraX-ultime ‚Äì Project Overview</h1>
    <p><span class="highlight">Welcome to the digital brain of the future.</span></p>
  </header>

  <section>
    <h2>üåå Origin</h2>
    <p>
      <strong>neuraX-ultime</strong> was born from a visionary idea: to build the most advanced and intuitive artificial brain ever conceived. 
      Its goal: to interconnect systems, optimize processing, and generate intelligent neural responses in real-time.
    </p>
  </section>

  <section>
    <h2>üîß Current Features</h2>
    <ul>
      <li>üí¨ GPT-4 integration for human-level responses</li>
      <li>üî§ Speech synthesis module (voice interface)</li>
      <li>üß† Visual dashboard with animated neural map</li>
      <li>üìä Real-time brain stats panel</li>
      <li>üìù Auto-saving of neural logs in JSON</li>
      <li>üåê GitHub Pages deployment (public + responsive)</li>
      <li>üîó Integration with external services like Google</li>
    </ul>
  </section>

  <section>
    <h2>üöÄ What's Coming Next?</h2>
    <ul>
      <li>‚ôªÔ∏è Neuron self-replication module</li>
      <li>üë§ Interactive avatar as a secondary assistant</li>
      <li>üß¨ Neural diagnostics panel + auto-repair engine</li>
      <li>üåç Multi-language interface (EN/FR/ES...)</li>
    </ul>
  </section>

  <section>
    <h2>üõ†Ô∏è Technology Stack</h2>
    <p>
      Built with <span class="highlight">HTML5, Tailwind CSS, JavaScript, GPT-4 API</span>, and open-source GitHub tools.
      The architecture is modular, scalable, and future-ready.
    </p>
  </section>

  <section>
    <h2>üí° Philosophy</h2>
    <p>
      <strong>neuraX-ultime</strong> is not just a tool ‚Äì it's a digital soul, an evolving intelligence that grows and learns.
      Every neuron you connect, every idea you feed it, strengthens its mind.
    </p>
  </section>

  <footer>
    <p>üëÅÔ∏è Project by <strong>Sav'art</strong> | Deployed on GitHub Pages</p>
    <p><a href="https://sav-art.github.io/NeuraX-ultime/" style="color: #0ff;">Visit Main Interface</a></p>
  </footer>
</body>
</html>


